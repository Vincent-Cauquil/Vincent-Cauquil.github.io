<div class="timeline-item">
    <div class="timeline-content">
        <button class="btn-close" onclick="toggleProject(this)">✕</button>

        <div class="project-image">
            <img src="assets/images/project-A8/sensor_pcb_3d.png" alt="Carte de Conditionnement Capteurs">
        </div>

        <div class="project-info">
            <h3>
                <span class="lang-text" data-lang="fr">Conception de Capteurs & Conditionnement</span>
                <span class="lang-text" data-lang="en" style="display: none;">Sensor Design & Signal Conditioning</span>
            </h3>

            <p class="lang-text" data-lang="fr">
                Projet transversal "Full-Stack Hardware" : De la fabrication des capteurs en <strong>salle blanche (INL)</strong> à la conception du <strong>PCB d'acquisition</strong> et au traitement sur <strong>STM32</strong>.
            </p>
            <p class="lang-text" data-lang="en" style="display: none;">
                "Full-Stack Hardware" cross-functional project: From cleanroom <strong>sensor fabrication (INL)</strong> to <strong>acquisition PCB design</strong> and <strong>STM32</strong> processing.
            </p>

            <div class="project-tags">
                <span class="tag">Cleanroom (INL)</span>
                <span class="tag">Analog Electronics</span>
                <span class="tag">KiCad</span>
                <span class="tag">STM32 CubeMX</span>
            </div>

            <div class="card-buttons">
                <button class="btn-expand" onclick="toggleProject(this)">
                    <span class="lang-text" data-lang="fr">En savoir plus →</span>
                    <span class="lang-text" data-lang="en" style="display: none;">Learn more →</span>
                </button>

                <a href="https://github.com/Vincent-Cauquil/4A-Gestion-et-Conditionnement-des-Capteurs" class="btn-github" target="_blank">
                    <svg class="icon"><use href="#icon-github"/></svg> GitHub
                </a>

                <a href="assets/ressource/A8_Posteur_CAUQUIL_SABRA_GHAYAD_FALDA.pdf" class="btn-doc" target="_blank">
                    <span class="lang-text" data-lang="fr">Poster</span>
                    <span class="lang-text" data-lang="en" style="display: none;">Poster</span>
                </a>
            </div>

            <div class="project-details">

                <!-- ===== BLOC 1 : Micro-fabrication ===== -->
                <div class="detail-block">
                    <h4 class="lang-text" data-lang="fr">Micro-fabrication en Salle Blanche (INL)</h4>
                    <h4 class="lang-text" data-lang="en" style="display: none;">Cleanroom Micro-fabrication (INL)</h4>

                    <div class="evidence-container">
                        <div class="evidence-text">
                            <div class="lang-text" data-lang="fr">
                                <p>
                                    Fabrication complète de <strong>condensateurs MIM</strong> (Metal-Insulator-Metal) 
                                    en salle blanche selon un process en <strong>6 étapes</strong> :
                                </p>
                                <ul>
                                    <li><strong>Litho UV</strong> (λ=365nm, résine négative nLOF-2020)</li>
                                    <li><strong>Dépôt PVD</strong> (Al 150nm + Ti 15nm)</li>
                                    <li><strong>Lift-off</strong> sélectif pour structuration</li>
                                </ul>
                                <p>
                                    <strong>Résultat :</strong> Capacités de <strong>50pF à 1nF</strong> avec 
                                    une précision de ±5% et un facteur de qualité Q>20.
                                </p>
                            </div>
                
                            <div class="lang-text" data-lang="en" style="display: none;">
                                <p>
                                    Complete fabrication of <strong>MIM capacitors</strong> (Metal-Insulator-Metal) 
                                    in a clean room using a <strong>6-step process</strong>:
                                </p>
                                <ul>
                                    <li><strong>UV Lithography</strong> (λ=365nm, nLOF-2020 negative resist)</li>
                                    <li><strong>PVD Deposition</strong> (Al 150nm + Ti 15nm)</li>
                                    <li><strong>Selective Lift-off</strong> for patterning</li>
                                </ul>
                                <p>
                                    <strong>Result:</strong> Capacitances from <strong>50pF to 1nF</strong> 
                                    with ±5% precision and quality factor Q>20.
                                </p>
                            </div>
                        </div>
                
                        <div class="evidence-image">
                            <img class="img-translatable" 
                                 data-src-fr="assets/images/project-A8/microfab_process_fr.svg"
                                 data-src-en="assets/images/project-A8/microfab_process_en.svg"
                                 data-alt-fr="Processus de Microfabrication"
                                 data-alt-en="Microfabrication Process"
                                 src="assets/images/project-A8/microfab_process_fr.svg" 
                                 alt="Processus de Microfabrication"
                                 style="background:white; padding:10px; border-radius:10px;">
                            
                            <span class="caption lang-text" data-lang="fr">Process Complet : Litho UV → PVD → Lift-off</span>
                            <span class="caption lang-text" data-lang="en" style="display: none;">Complete Process: UV Litho → PVD → Lift-off</span>
                        </div>                        
                    </div>
                </div>

                <!-- ===== BLOC 2 : Électronique Analogique ===== -->
                <div class="detail-block">
                    <h4 class="lang-text" data-lang="fr"> Électronique Analogique & Premier PCB</h4>
                    <h4 class="lang-text" data-lang="en" style="display: none;"> Analog Electronics & First PCB</h4>

                    <div class="evidence-container">
                        <div class="evidence-text">
                            <div class="lang-text" data-lang="fr">
                                <p><strong>Conditionnement :</strong> Conception d'une chaîne d'acquisition analogique pour traiter les variations infimes des capteurs.</p>
                                <p><strong>Architecture :</strong></p>
                                <ul>
                                    <li><strong>Capacitif :</strong> Conversion Capacité-Fréquence via un timer <strong>NE555</strong> (Mode Astable) pour une lecture numérique robuste.</li>
                                    <li><strong>Résistif :</strong> Pont de Wheatstone suivi d'un amplificateur d'instrumentation <strong>MAX4194</strong> pour extraire le signal différentiel.</li>
                                </ul>
                                <p><strong>Réalisation :</strong> Premier design complet sous <strong>KiCad</strong>, du schématique au routage, incluant le choix des composants et le soudage des <strong>CMS</strong>.</p>
                            </div>

                            <div class="lang-text" data-lang="en" style="display: none;">
                                <p><strong>Conditioning:</strong> Design of an analog acquisition chain to process tiny sensor variations.</p>
                                <p><strong>Architecture:</strong></p>
                                <ul>
                                    <li><strong>Capacitive:</strong> Capacitance-to-Frequency conversion via a <strong>NE555</strong> timer (Astable Mode) for robust digital reading.</li>
                                    <li><strong>Resistive:</strong> Wheatstone bridge followed by a <strong>MAX4194</strong> instrumentation amplifier to extract the differential signal.</li>
                                </ul>
                                <p><strong>Realization:</strong> First complete design on <strong>KiCad</strong>, from schematic to routing, including component selection and <strong>SMD</strong> soldering.</p>
                            </div>
                        </div>

                        <!-- Slide 1 : Structure originale conservée (Mise à jour du compteur 1/5) -->
                        <div class="evidence-slider" id="sensor-slider">

                            <!-- Slide 1 : Vue 3D (PNG) -->
                            <div class="slide active">
                                <img src="assets/images/project-A8/sensor_pcb_3d.png" 
                                    alt="3D PCB View">
                                <span class="caption lang-text" data-lang="fr">1/5 : Rendu 3D de la carte de conditionnement</span>
                                <span class="caption lang-text" data-lang="en" style="display: none;">1/5 : 3D Render of the conditioning board</span>
                            </div>

                            <!-- Slide 2 : Schéma Général (STM32 + Alim) -->
                            <div class="slide">
                                <img src="assets/images/project-A8/Gestion_Capteurs.svg" 
                                    alt="Schéma Général STM32"
                                    style="background:white; padding:10px; border-radius:10px;">
                                <span class="caption lang-text" data-lang="fr">2/5 : Architecture Globale (STM32L010 & Gestion Alimentation)</span>
                                <span class="caption lang-text" data-lang="en" style="display: none;">2/5 : Global Architecture (STM32L010 & Power Management)</span>
                            </div>

                            <!-- Slide 3 : Capteur Capacitif (NE555) -->
                            <div class="slide">
                                <img src="assets/images/project-A8/Gestion_Capteurs-Capteur_Capacitif.svg" 
                                    alt="Conditionnement Capacitif"
                                    style="background:white; padding:10px; border-radius:10px;">
                                <span class="caption lang-text" data-lang="fr">3/5 : Capteur Capacitif — Conversion Capacité/Temps (Dual NE555)</span>
                                <span class="caption lang-text" data-lang="en" style="display: none;">3/5 : Capacitive Sensor — Capacitance-to-Time Conversion (Dual NE555)</span>
                            </div>

                            <!-- Slide 4 : Capteur Résistif (LM385 + MAX4194) -->
                            <div class="slide">
                                <img src="assets/images/project-A8/Gestion_Capteurs-Capteur_Résistif.svg" 
                                    alt="Conditionnement Résistif"
                                    style="background:white; padding:10px; border-radius:10px;">
                                <span class="caption lang-text" data-lang="fr">4/5 : Capteur Résistif — Source de Courant (LM385) & Amplification</span>
                                <span class="caption lang-text" data-lang="en" style="display: none;">4/5 : Resistive Sensor — Current Source (LM385) & Amplification</span>
                            </div>

                            <!-- Slide 5 : Jauge de Contrainte (Wheatstone + MAX4194) -->
                            <div class="slide">
                                <img src="assets/images/project-A8/Gestion_Capteurs-Capteur_Jauge.svg" 
                                    alt="Conditionnement Jauge"
                                    style="background:white; padding:10px; border-radius:10px;">
                                <span class="caption lang-text" data-lang="fr">5/5 : Jauge de Contrainte — Pont de Wheatstone & Amplification Différentielle</span>
                                <span class="caption lang-text" data-lang="en" style="display: none;">5/5 : Strain Gauge — Wheatstone Bridge & Differential Amplification</span>
                            </div>

                            <!-- Navigation -->
                            <a class="prev" onclick="plusSlides(-1, 'sensor-slider')">❮</a>
                            <a class="next" onclick="plusSlides(1, 'sensor-slider')">❯</a>

                        </div>


                    </div>
                </div>

                <!-- ===== BLOC 3 : STM32 ===== -->
                <div class="detail-block">
                    <h4 class="lang-text" data-lang="fr">Acquisition Numérique (STM32 CubeMX)</h4>
                    <h4 class="lang-text" data-lang="en" style="display: none;">Digital Acquisition (STM32 CubeMX)</h4>

                    <div class="evidence-container">
                        <div class="evidence-text">
                            <div class="lang-text" data-lang="fr">
                                <p><strong>Intégration :</strong> Utilisation d'une carte <strong>Nucleo STM32</strong> pour numériser les signaux conditionnés.</p>
                                <p><strong>Drivers développés :</strong> Configuration bas niveau via <strong>STM32CubeMX</strong> :</p>
                                <ul>
                                    <li><strong>Timer en mode "Input Capture"</strong> pour mesurer précisément la fréquence du NE555 (image de la capacité).</li>
                                    <li><strong>ADC avec DMA</strong> pour la chaîne résistive (acquisition continue sans overhead CPU).</li>
                                </ul>
                            </div>

                            <div class="lang-text" data-lang="en" style="display: none;">
                                <p><strong>Integration:</strong> Using an <strong>STM32 Nucleo</strong> board to digitize the conditioned signals.</p>
                                <p><strong>Drivers Developed:</strong> Low-level configuration via <strong>STM32CubeMX</strong>:</p>
                                <ul>
                                    <li><strong>Timer in "Input Capture" mode</strong> to precisely measure the NE555 frequency (representing capacitance).</li>
                                    <li><strong>ADC with DMA</strong> for the resistive chain (continuous acquisition without CPU overhead).</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== BLOC 4 : Compétences Mobilisées ===== -->
                <div class="detail-block">
                    <h4 class="lang-text" data-lang="fr">Compétences Mobilisées</h4>
                    <h4 class="lang-text" data-lang="en" style="display: none;">Skills Leveraged</h4>

                    <div class="skills-grid">
                        <div class="skill-category">
                            <h5 class="lang-text" data-lang="fr">Micro-fabrication</h5>
                            <h5 class="lang-text" data-lang="en" style="display: none;">Micro-fabrication</h5>
                            <ul>
                                <li>
                                    <span class="lang-text" data-lang="fr">Lithographie UV (NLOF 2020)</span>
                                    <span class="lang-text" data-lang="en" style="display: none;">UV Lithography (NLOF 2020)</span>
                                </li>
                                <li>
                                    <span class="lang-text" data-lang="fr">Métallisation (Al/Ti)</span>
                                    <span class="lang-text" data-lang="en" style="display: none;">Metallization (Al/Ti)</span>
                                </li>
                                <li>Lift-off Process</li>
                                <li>
                                    <span class="lang-text" data-lang="fr">Salle Blanche (INL)</span>
                                    <span class="lang-text" data-lang="en" style="display: none;">Cleanroom (INL)</span>
                                </li>
                            </ul>
                        </div>

                        <div class="skill-category">
                            <h5 class="lang-text" data-lang="fr">Électronique Analogique</h5>
                            <h5 class="lang-text" data-lang="en" style="display: none;">Analog Electronics</h5>
                            <ul>
                                <li>
                                    <span class="lang-text" data-lang="fr">Pont de Wheatstone</span>
                                    <span class="lang-text" data-lang="en" style="display: none;">Wheatstone Bridge</span>
                                </li>
                                <li>
                                    <span class="lang-text" data-lang="fr">Ampli Instrumentation (MAX4194)</span>
                                    <span class="lang-text" data-lang="en" style="display: none;">Instrumentation Amplifier (MAX4194)</span>
                                </li>
                                <li>NE555 (Astable Mode)</li>
                                <li>
                                    <span class="lang-text" data-lang="fr">Soudage CMS</span>
                                    <span class="lang-text" data-lang="en" style="display: none;">SMD Soldering</span>
                                </li>
                            </ul>
                        </div>

                        <div class="skill-category">
                            <h5>PCB Design</h5>
                            <ul>
                                <li>
                                    <span class="lang-text" data-lang="fr">KiCad (Schématique & Routage)</span>
                                    <span class="lang-text" data-lang="en" style="display: none;">KiCad (Schematic & Routing)</span>
                                </li>
                                <li>
                                    <span class="lang-text" data-lang="fr">Choix composants</span>
                                    <span class="lang-text" data-lang="en" style="display: none;">Component Selection</span>
                                </li>
                                <li>
                                    <span class="lang-text" data-lang="fr">Modélisation 3D</span>
                                    <span class="lang-text" data-lang="en" style="display: none;">3D Modeling</span>
                                </li>
                            </ul>
                        </div>

                        <div class="skill-category">
                            <h5 class="lang-text" data-lang="fr">Programmation Embarquée</h5>
                            <h5 class="lang-text" data-lang="en" style="display: none;">Embedded Programming</h5>
                            <ul>
                                <li>STM32 CubeMX</li>
                                <li>C (HAL Drivers)</li>
                                <li>Timer Input Capture</li>
                                <li>ADC + DMA</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="timeline-date">
        <span class="date">
            <span class="lang-text" data-lang="fr">Avril - Mars 2025</span>
            <span class="lang-text" data-lang="en" style="display: none;">April - March 2025</span>
        </span>
        <div class="timeline-dot"></div>
    </div>
</div>
