<div class="timeline-item">
    <div class="timeline-content">
        <button class="btn-close" onclick="toggleProject(this)">✕</button>

        <div class="project-image">
            <img src="assets/images/projects/parking.png" alt="Smart Modular Parking System">
        </div>

        <div class="project-info">
            <h3>Smart Modular Parking (PSM)</h3>

            <p class="lang-text" data-lang="fr">
                Architecte système et Lead Power pour un système de parking IoT autonome. 
                Conception complète d'un BMS 100W USB-C PD et implémentation d'un SoC RISC-V sur FPGA pour le contrôle moteur.
            </p>
            <p class="lang-text" data-lang="en" style="display: none;">
                System Architect & Power Lead for an autonomous IoT parking system. 
                Full design of a 100W USB-C PD BMS and implementation of a RISC-V SoC on FPGA for motor control.
            </p>

            <div class="project-tags">
                <span class="tag">KiCad 7</span>
                <span class="tag">FPGA LiteX</span>
                <span class="tag">RISC-V</span>
                <span class="tag">MQTT</span>
                <span class="tag">Power Delivery</span>
            </div>

            <div class="card-buttons">
                <button class="btn-expand" onclick="toggleProject(this)">
                    <span class="lang-text" data-lang="fr">Voir les compétences détaillées →</span>
                    <span class="lang-text" data-lang="en" style="display: none;">See detailed skills →</span>
                </button>
                
                <a href="https://github.com/EnderCryme/5A-Projet-Parking" class="btn-github" target="_blank">
                    <svg class="icon"><use href="#icon-github"/></svg> GitHub
                </a>

                <a href="https://drive.google.com/file/d/1G9lH1KeA8uOhU5wkQOQOmOX-aidNT0l7/view" class="btn-video" target="_blank">
                    ▶ <span class="lang-text" data-lang="fr">Démo Vidéo</span><span class="lang-text" data-lang="en" style="display: none;">Video Demo</span>
                </a>
            </div>

            <div class="project-details">
    
                <div class="detail-block">
                    <h4 class="lang-text" data-lang="fr"> Architecture de Puissance & BMS (KiCad)</h4>
                    <h4 class="lang-text" data-lang="en" style="display: none;"> Power Architecture & BMS (KiCad)</h4>
                    
                    <div class="evidence-container">
                        <div class="evidence-text">
                            <p class="lang-text" data-lang="fr">
                                <strong>Contexte & Défi :</strong> Alimenter une architecture hétérogène (FPGA, CPU IA, Moteurs 20V) nécessitant 65W constants, avec une autonomie cible de 2h.<br><br>
                                <strong>Conception Hardware :</strong> Réalisation sous KiCad 7 d'un BMS 4S3P (Cellules Samsung INR18650-35E). Architecture <strong>NVDC</strong> (Narrow Voltage DC) implémentée avec le trio Texas Instruments : Chargeur Buck-Boost <strong>BQ25713</strong> (gestion USB-C PD 100W), Jauge <strong>BQ40Z50</strong> (algorithme Impedance Track™) et Protection Secondaire <strong>BQ296102</strong>.<br><br>
                                <strong>Intelligence Embarquée :</strong> Intégration stratégique d'un <strong>RP2350</strong> pour le monitoring et le calcul d'Indice de Performance (IPN). Choisi pour son ratio performance/prix supérieur au STM32 (IPN ~8500 vs ~444) pour cette tâche de supervision.
                            </p>
                            <p class="lang-text" data-lang="en" style="display: none;">
                                <strong>Context & Challenge:</strong> Powering a heterogeneous architecture (FPGA, AI CPU, 20V Motors) requiring 65W constant load, with a 2h autonomy target.<br><br>
                                <strong>Hardware Design:</strong> Designed a 4S3P BMS (Samsung INR18650-35E cells) using KiCad 7. Implemented an <strong>NVDC</strong> (Narrow Voltage DC) architecture with the Texas Instruments trio: Buck-Boost Charger <strong>BQ25713</strong> (100W USB-C PD management), Fuel Gauge <strong>BQ40Z50</strong> (Impedance Track™ algorithm), and Secondary Protection <strong>BQ296102</strong>.<br><br>
                                <strong>Embedded Intelligence:</strong> Strategic integration of an <strong>RP2350</strong> for monitoring and Performance Index (IPN) calculation. Selected for its superior price/performance ratio compared to STM32 (IPN ~8500 vs ~444) for this supervision task.
                            </p>
                        </div>
            
                        <div class="evidence-slider" id="bms-slider">
                            <div class="slide active">
                                <img src="assets/images/projects/BMS_schem.png" alt="Architecture Synoptique BMS RP2350">
                                <span class="caption">1/3 : Architecture Conceptuelle (Trio TI + RP2350)</span>
                            </div>
                            <div class="slide">
                                <img src="assets/images/projects/BMS_schem_elec.png" alt="Schéma électrique KiCad">
                                <span class="caption">2/3 : Schématique Détaillé (Sécurité & Filtrage)</span>
                            </div>
                            <div class="slide">
                                <img src="assets/images/projects/BMS_3D_view.png" alt="Vue 3D KiCad PCB">
                                <span class="caption">3/3 : Modélisation 3D & Placement (KiCad 7)</span>
                            </div>
                            <a class="prev" onclick="plusSlides(-1, 'bms-slider')">❮</a>
                            <a class="next" onclick="plusSlides(1, 'bms-slider')">❯</a>
                        </div>
                    </div>
                </div>
            
                <div class="detail-block">
                    <h4 class="lang-text" data-lang="fr"> FPGA & SoC RISC-V (LiteX)</h4>
                    <h4 class="lang-text" data-lang="en" style="display: none;"> FPGA & RISC-V SoC (LiteX)</h4>
            
                    <div class="evidence-container">
                        <div class="evidence-text">
                            <p class="lang-text" data-lang="fr">
                                <strong>Objectif :</strong> Piloter des barrières motorisées (Moteurs Pas-à-pas NEMA) avec une précision temps réel tout en conservant la flexibilité d'un OS haut niveau.<br><br>
                                <strong>Implémentation SoC :</strong> Déploiement d'un Softcore <strong>VexRiscv</strong> (32-bit RISC-V) sur FPGA Nexys A7-100T via la toolchain LiteX. Intégration d'un bus AXI pour la communication entre le CPU et les périphériques custom.<br><br>
                                <strong>Linux & Drivers :</strong> Compilation d'un noyau Linux embarqué via Buildroot. Développement d'un driver spécifique utilisant le mapping mémoire (<code>mmap</code>) pour contrôler directement les registres matériels des moteurs depuis l'espace utilisateur Linux, contournant les latences classiques.
                            </p>
                            <p class="lang-text" data-lang="en" style="display: none;">
                                <strong>Objective:</strong> Controlling motorized barriers (NEMA Stepper Motors) with real-time precision while maintaining high-level OS flexibility.<br><br>
                                <strong>SoC Implementation:</strong> Deployed a <strong>VexRiscv</strong> Softcore (32-bit RISC-V) on Nexys A7-100T FPGA using the LiteX toolchain. Integrated an AXI bus for communication between CPU and custom peripherals.<br><br>
                                <strong>Linux & Drivers:</strong> Compiled an embedded Linux kernel via Buildroot. Developed a specific driver using memory mapping (<code>mmap</code>) to directly control motor hardware registers from Linux user space, bypassing standard latency issues.
                            </p>
                        </div>
                        <div class="evidence-image">
                            <img src="assets/images/projects/fpga_soc_arch.png" alt="Architecture SoC LiteX RISC-V">
                            <span class="caption">Architecture du SoC Custom VexRiscv sur FPGA</span>
                        </div>
                    </div>
                </div>
            
                <div class="detail-block">
                    <h4 class="lang-text" data-lang="fr"> Architecture Système & Coordination</h4>
                    <h4 class="lang-text" data-lang="en" style="display: none;"> System Architecture & Coordination</h4>
            
                    <div class="evidence-container">
                        <div class="evidence-text">
                            <p class="lang-text" data-lang="fr">
                                <strong>Rôle :</strong> Lead Technique et Coordinateur d'une équipe de 4 ingénieurs.<br><br>
                                <strong>Architecture Distribuée :</strong> Conception d'un réseau IoT local sur protocole <strong>MQTT</strong>. Orchestration des flux de données entre le "Cerveau" (BeagleY-AI / Broker), l'Interface Utilisateur (STM32F7) et l'Actionneur de Puissance (FPGA).<br><br>
                                <strong>Contribution Transverse :</strong> Support au développement de la Base de Données SQL pour garantir l'intégrité des règles d'accès (Anti-passback, Logs) et supervision de l'intégration globale des modules mécaniques, électroniques et logiciels.
                            </p>
                            <p class="lang-text" data-lang="en" style="display: none;">
                                <strong>Role:</strong> Technical Lead and Coordinator for a team of 4 engineers.<br><br>
                                <strong>Distributed Architecture:</strong> Designed a local IoT network based on <strong>MQTT</strong> protocol. Orchestrated data flows between the "Brain" (BeagleY-AI / Broker), the User Interface (STM32F7), and the Power Actuator (FPGA).<br><br>
                                <strong>Cross-functional Contribution:</strong> Supported SQL Database development to ensure access rule integrity (Anti-passback, Logs) and supervised the global integration of mechanical, electrical, and software modules.
                            </p>
                        </div>
                        <div class="evidence-image">
                            <img src="assets/images/projects/global_arch.png" alt="Architecture Distribuée MQTT">
                            <span class="caption">Synoptique Global des interactions système (MQTT)</span>
                        </div>
                    </div>
                </div>
            
            </div>
        </div>
    </div>

    <div class="timeline-date">
        <span class="date">2025 - 2026</span>
        <div class="timeline-dot"></div>
    </div>
</div>
