<div class="timeline-item">
    <div class="timeline-content">
        <button class="btn-close" onclick="toggleProject(this)">‚úï</button>

        <div class="project-image">
            <img src="assets/images/projects/parking_cover.png" alt="Smart Modular Parking System">
        </div>

        <div class="project-info">
            <h3>Smart Modular Parking (PSM)</h3>

            <p class="lang-text" data-lang="fr">
                Architecte syst√®me et Lead Power pour un parking IoT autonome. 
                [cite_start]Conception d'un BMS 100W USB-C PD et impl√©mentation d'un SoC RISC-V sur FPGA[cite: 1, 2].
            </p>
            <p class="lang-text" data-lang="en" style="display: none;">
                System Architect & Power Lead for an autonomous IoT parking. 
                Designed a 100W USB-C PD BMS and implemented a RISC-V SoC on FPGA.
            </p>

            <div class="project-tags">
                <span class="tag">KiCad 7</span>
                <span class="tag">FPGA LiteX</span>
                <span class="tag">RISC-V</span>
                <span class="tag">Power Delivery</span>
            </div>

            <div class="card-buttons">
                <button class="btn-expand" onclick="toggleProject(this)">
                    <span class="lang-text" data-lang="fr">Voir les d√©tails techniques ‚Üí</span>
                    <span class="lang-text" data-lang="en" style="display: none;">See technical details ‚Üí</span>
                </button>
                
                <a href="https://github.com/EnderCryme/5A-Projet-Parking" class="btn-github" target="_blank">
                    <svg class="icon"><use href="#icon-github"/></svg> GitHub
                </a>

                <a href="https://drive.google.com/file/d/1G9lH1KeA8uOhU5wkQOQOmOX-aidNT0l7/view" class="btn-video" target="_blank">
                    ‚ñ∂ <span class="lang-text" data-lang="fr">D√©mo Vid√©o</span><span class="lang-text" data-lang="en" style="display: none;">Video Demo</span>
                </a>
            </div>

            <div class="project-details">
                
                <div class="detail-block">
                    <h4 class="lang-text" data-lang="fr">‚ö° Architecture de Puissance & BMS (KiCad)</h4>
                    <h4 class="lang-text" data-lang="en" style="display: none;">‚ö° Power Architecture & BMS (KiCad)</h4>
                    
                    <div class="evidence-container">
                        <div class="evidence-text">
                            <p class="lang-text" data-lang="fr">
                                [cite_start]<strong>Challenge :</strong> G√©rer une charge h√©t√©rog√®ne (FPGA, Moteurs 20V) avec une autonomie cible de 2h[cite: 1].<br>
                                [cite_start]<strong>Conception :</strong> Architecture NVDC bas√©e sur le trio TI (BQ25713, BQ40Z50, BQ296102)[cite: 1].<br>
                                [cite_start]<strong>Innovation :</strong> Int√©gration d'un RP2350 pour le calcul d'efficacit√© (IPN) et la supervision de s√©curit√© d√©corr√©l√©e du CPU principal[cite: 1].
                            </p>
                            <p class="lang-text" data-lang="en" style="display: none;">
                                <strong>Challenge:</strong> Manage heterogeneous load (FPGA, 20V Motors) with 2h autonomy target.<br>
                                <strong>Design:</strong> NVDC architecture based on TI trio (BQ25713, BQ40Z50, BQ296102).<br>
                                <strong>Innovation:</strong> Integration of RP2350 for efficiency calculation and safety monitoring decoupled from main CPU.
                            </p>
                        </div>

                        <div class="evidence-slider" id="bms-slider">
                            <div class="slide active">
                                <img src="assets/images/projects/BMS_schem.png" alt="Sch√©ma conceptuel BMS">
                                [cite_start]<span class="caption">1/3 : Architecture Conceptuelle (TI + RP2350) [cite: 1]</span>
                            </div>
                            <div class="slide">
                                <img src="assets/images/projects/BMS_schem_elec.png" alt="Sch√©ma √©lectrique KiCad">
                                [cite_start]<span class="caption">2/3 : Sch√©matique D√©tail√© (S√©curit√© & Filtrage) [cite: 1]</span>
                            </div>
                            <div class="slide">
                                <img src="assets/images/projects/BMS_3D_view.png" alt="Vue 3D KiCad PCB">
                                [cite_start]<span class="caption">3/3 : Mod√©lisation 3D & Placement (KiCad 7) [cite: 2]</span>
                            </div>

                            <a class="prev" onclick="plusSlides(-1, 'bms-slider')">‚ùÆ</a>
                            <a class="next" onclick="plusSlides(1, 'bms-slider')">‚ùØ</a>
                        </div>
                    </div>
                </div>

                <div class="detail-block">
                    <h4 class="lang-text" data-lang="fr">üß† FPGA & SoC RISC-V (LiteX)</h4>
                    <div class="evidence-container">
                        <div class="evidence-text">
                            <p class="lang-text" data-lang="fr">
                                Impl√©mentation d'un SoC VexRiscv sur FPGA Nexys A7. [cite_start]Cr√©ation d'un driver Linux custom acc√©dant au hardware via `mmap` pour piloter les moteurs pas-√†-pas avec pr√©cision[cite: 2, 4].
                            </p>
                        </div>
                        <div class="evidence-image">
                            <img src="assets/images/projects/fpga_soc_arch.png" alt="Architecture SoC LiteX">
                            [cite_start]<span class="caption">Architecture SoC Custom & Mapping M√©moire [cite: 4]</span>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
